<template>
  <div style="margin-top:50px;display: flex;flex-direction: column;align-items: center;text-align: center;">
    <a-card class="transfer_box">
      <svg t="1621137785449" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6396" width="100" height="100"><path d="M852.77 889.05H171.23A36.27 36.27 0 0 1 135 852.78V171.22A36.27 36.27 0 0 1 171.23 135H375a36.28 36.28 0 0 1 0 72.55H207.5v609h609V649a36.28 36.28 0 1 1 72.55 0v203.78a36.27 36.27 0 0 1-36.28 36.27z" fill="#2F3240" p-id="6397"></path><path d="M407.15 653.13a36.28 36.28 0 0 1-25.66-61.93L747.66 225A36.28 36.28 0 1 1 799 276.34L432.8 642.51a36.17 36.17 0 0 1-25.65 10.62z" fill="#4CC9C5" p-id="6398"></path><path d="M852.78 414.94V171.23H609.06l140.42 103.29 103.3 140.42z" fill="#4CC9C5" p-id="6399"></path><path d="M852.78 451.22a36.29 36.29 0 0 1-29.23-14.78l-100-136-136-100a36.28 36.28 0 0 1 21.5-65.5h243.72a36.28 36.28 0 0 1 36.28 36.28V415a36.28 36.28 0 0 1-36.27 36.27zM719.6 207.5l51.4 37.8a36.23 36.23 0 0 1 7.7 7.7l37.8 51.38V207.5z" fill="#4CC9C5" p-id="6400"></path></svg>
      <h4 class="sub_title">
        选择要发送到{{device}}的Paste
      </h4>
      <div class="lists" v-if="itemList.length>0">
        <div class="paste-item" v-for="item in itemList" :key="item.id" @click="currentID=item.id" :style="currentID==item.id?'background: rgba(51, 144, 236, 0.08)':''">
          <div class="paste-icon" style="height: 60px;width: 60px;vertical-align:middle;padding: 10px;">
            <svg t="1621143345923" v-if="!item.encrypt" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10345" width="40" height="40"><path d="M791.2 604.9c-0.4 0-0.9 0-1.3-0.1-33.4-4.3-74.6-17.1-113.1-35.2-48.2-22.6-92.4-53.3-127.8-88.7l-3-3-1.7-1.7-0.2-0.2c-0.5-0.5-1.1-1-1.6-1.6l-3-3c-35.4-35.4-66.1-79.6-88.7-127.8-18.1-38.5-30.9-79.7-35.2-113.1-0.7-5.5 3.2-10.5 8.6-11.2 5.5-0.7 10.5 3.2 11.2 8.6 6.1 47.4 37.8 149 118.2 229.3l2.8 2.8c0.6 0.6 1.2 1.2 1.8 1.7l0.3 0.3c0.6 0.7 1.2 1.3 1.8 1.9 0.9 0.9 1.8 1.9 2.8 2.8 80.3 80.3 182 112.1 229.3 118.2 5.5 0.7 9.3 5.7 8.6 11.2-0.5 5.1-4.8 8.8-9.8 8.8zM658.6 701.6c-0.6 0-1.1 0-1.7-0.1-58.2-9.9-146.7-49.6-213.2-116.1-0.9-0.9-1.8-1.8-2.7-2.8l-3.1-3.1c-0.9-0.9-1.8-1.8-2.8-2.7-66.5-66.5-106.2-155-116.1-213.2-0.9-5.4 2.7-10.6 8.2-11.5 5.4-0.9 10.6 2.7 11.5 8.2 7 41.1 38.1 130 110.5 202.4 0.8 0.8 1.7 1.7 2.6 2.5l1.9 1.8 1.6 1.6c0.8 0.9 1.7 1.7 2.5 2.6 72.4 72.4 161.3 103.5 202.4 110.5 5.4 0.9 9.1 6.1 8.2 11.5-0.8 5-5 8.4-9.8 8.4z" fill="#543630" p-id="10346"></path><path d="M726.4 658.7c-0.6 0-1.2 0-1.7-0.2-31.1-5.5-69.8-19.2-106.2-37.6-45.5-23.1-87.8-53.4-122.1-87.7-1-1-2-2-2.9-3l-1.8-1.8-1.5-1.5c-1-1-2-1.9-3-2.9-34.3-34.3-64.6-76.5-87.7-122.1-18.4-36.4-32.1-75.1-37.6-106.2-1-5.4 2.7-10.6 8.1-11.6 5.4-1 10.6 2.7 11.6 8.1 7.8 44.1 41.8 139.6 119.8 217.6 0.9 0.9 1.9 1.8 2.8 2.8l2 1.9 1.7 1.7c0.9 0.9 1.8 1.9 2.7 2.8 78 78 173.5 112 217.6 119.8 5.4 1 9.1 6.1 8.1 11.6-0.9 4.9-5.1 8.3-9.9 8.3zM589.6 740.6c-0.5 0-1.1 0-1.6-0.1-53.4-8.8-134.3-44.7-194.9-105.3-0.8-0.8-1.6-1.7-2.5-2.5l-2.8-2.8c-0.8-0.8-1.7-1.6-2.5-2.5-60.6-60.6-96.5-141.5-105.3-194.9-0.9-5.5 2.8-10.6 8.2-11.5 5.5-0.9 10.6 2.8 11.5 8.2 6.1 37.5 34 118.4 99.7 184 0.8 0.8 1.6 1.5 2.3 2.3l1.4 1.4 0.1 0.1 1.7 1.7c0.8 0.8 1.5 1.6 2.3 2.3 65.6 65.6 146.5 93.5 184 99.7 5.5 0.9 9.1 6 8.2 11.5-0.7 4.9-5 8.4-9.8 8.4z" fill="#543630" p-id="10347"></path><path d="M321.8 713.1c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2L594 404.7c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L332.5 708.7c-3 2.9-6.8 4.4-10.7 4.4z" fill="#543630" p-id="10348"></path><path d="M229 621.1c-54.8-14.4-88.1-1.9-103.9 7.7-5.9 3.6-6.1 12-0.5 16l148.1 98.5c1.8 1.3 3.3 2.8 4.6 4.6L375.7 896c4 5.6 12.4 5.3 16-0.5 9.6-15.8 22.1-49.1 7.7-103.9-16-60.9-30.1-104.4-36.1-122.3-1.9-5.7-6.3-10.1-12-12-17.9-6.1-61.4-20.1-122.3-36.2z" fill="#C6B4AB" p-id="10349"></path><path d="M383.5 910c-6.4 0-12.3-3.1-16-8.3-0.1-0.1-0.1-0.2-0.2-0.2l-98.4-148c-0.6-0.8-1.2-1.4-2-2l-148-98.4c-0.1-0.1-0.2-0.1-0.2-0.2-5.4-3.8-8.5-10.1-8.3-16.7 0.2-6.6 3.7-12.6 9.4-16 8.1-4.9 21.8-11.4 41.1-14.2 21.3-3.1 45.1-1.3 70.6 5.4 62.1 16.3 106.6 30.8 122.9 36.3 8.6 2.9 15.4 9.7 18.3 18.3 5.5 16.3 20 60.8 36.3 122.9 6.7 25.5 8.5 49.2 5.4 70.6-2.8 19.3-9.3 33-14.2 41.1-3.4 5.6-9.4 9.1-16 9.4h-0.7zM130.9 637l147.3 98c0.1 0.1 0.2 0.1 0.2 0.2 2.7 1.9 5 4.2 6.9 6.9 0.1 0.1 0.1 0.2 0.2 0.2l98 147.3c8.3-14 19.6-44.5 6.2-95.6-16.2-61.5-30.5-105.5-35.9-121.6-0.9-2.7-3-4.8-5.7-5.7-16.1-5.4-60.1-19.8-121.6-35.9-51.1-13.4-81.6-2.1-95.6 6.2z" fill="#543630" p-id="10350"></path><path d="M354.2 660.2c-8.3-2.8-62.9-11.6-81.5-17.3 3.7 2.3 60.6 28.9 65.9 39 12 22.5 13.5 43.5 21 103.4 4.4 34.9 1.5 60.1-5.2 78.7l24.3 35c4 5.6 12.4 5.3 16-0.5 9.6-15.8 22.1-49.1 7.7-103.9-16-60.9-30.1-104.4-36.1-122.3-2-5.7-6.4-10.2-12.1-12.1z" fill="#A89082" p-id="10351"></path><path d="M802.6 212.3c-74.3-74.3-241.2-63.5-291.5-41.2-15 6.7-20.4 16.2-19.3 29.4 6.1 75.1 48.5 149.6 110.7 211.8 0.9 0.9 1.9 1.9 2.9 2.8 0.9 1 1.9 1.9 2.8 2.9 62.3 62.3 136.7 104.6 211.8 110.7 13.2 1.1 22.8-4.3 29.4-19.3 22.3-50.3 33.1-217.2-41.2-291.5-0.9-0.9-1.9-1.9-2.9-2.8-0.9-0.9-1.8-1.9-2.7-2.8z" fill="#C6B4AB" p-id="10352"></path><path d="M823.1 538.9c-1.3 0-2.6-0.1-3.9-0.2-37.8-3.1-76.4-15-114.6-35.5-36.1-19.3-70.9-45.6-103.5-78.2l-1.9-1.9-1.8-1.8-1.9-1.9c-32.6-32.6-58.9-67.4-78.1-103.5-20.4-38.2-32.4-76.8-35.5-114.6-1.5-18.1 7-31.3 25.2-39.4 34.8-15.5 97.7-19.4 141.5-16.5 32.1 2.1 61.6 7.7 87.5 16.4 30.4 10.3 55.2 24.9 73.7 43.3 0.9 0.9 1.7 1.8 2.8 2.9 1.1 1 2 1.9 2.9 2.8 18.5 18.5 33 43.3 43.3 73.7 8.8 25.9 14.3 55.3 16.4 87.5 2.9 43.7-1 106.7-16.5 141.5-7.6 16.8-19.5 25.4-35.6 25.4zM618.4 164.5c-43.8 0-82.9 6.7-103.2 15.7-12 5.3-14 11.4-13.4 19.5 5.6 68.6 43.9 141.7 107.8 205.6 0.6 0.6 1.2 1.1 1.7 1.7l1.1 1 0.1 0.1 1.1 1.1 1.7 1.7c63.9 63.9 136.9 102.2 205.6 107.8 8.1 0.7 14.1-1.4 19.5-13.4 22-49.6 30.2-211-39.1-280.4-0.8-0.8-1.6-1.6-2.6-2.5l-0.5-0.5c-1-1-1.8-1.9-2.5-2.6-41.1-40.9-114.2-54.8-177.3-54.8z" fill="#543630" p-id="10353"></path><path d="M804.1 210.8c-58.4-58.4-174-64.2-245.2-53.2 66.3-1 151.7 19.6 196.5 64.5 0.9 0.9 1.9 1.9 2.8 2.9 1 0.9 1.9 1.8 2.9 2.8 78.8 75.8 44.2 241.3 21.9 291.6-1.8 4 8.8 0.4 6.6 3.1 10.6 2.3 21.3 3.9 32 4.8 13.2 1.1 22.8-4.3 29.4-19.3 22.3-50.3 33.1-217.2-41.2-291.5-0.9-0.9-1.9-1.9-2.9-2.8-1-1-1.9-2-2.8-2.9z" fill="#A89082" p-id="10354"></path><path d="M602.520479 279.312826a30.8 30.8 0 1 0 43.557018-43.558538 30.8 30.8 0 1 0-43.557018 43.558538Z" fill="#543630" p-id="10355"></path><path d="M751 291.4c-3.8 0-7.7-1.5-10.6-4.4-5.9-5.9-5.9-15.4 0-21.2l53.7-53.7c5.9-5.9 15.4-5.9 21.2 0 5.9 5.9 5.9 15.4 0 21.2L761.6 287c-2.9 3-6.8 4.4-10.6 4.4z" fill="#543630" p-id="10356"></path><path d="M823.1 538.9c-1.3 0-2.6-0.1-3.9-0.2-37.8-3.1-76.4-15-114.6-35.5-36.1-19.3-70.9-45.6-103.5-78.2l-1.9-1.9-1.8-1.8-1.9-1.9c-32.6-32.6-58.9-67.4-78.1-103.5-20.4-38.2-32.4-76.8-35.5-114.6-1.5-18.1 7-31.3 25.2-39.4 34.8-15.5 97.7-19.4 141.5-16.5 32.1 2.1 61.6 7.7 87.5 16.4 30.4 10.3 55.2 24.9 73.7 43.3 0.9 0.9 1.7 1.8 2.8 2.9 1.1 1 2 1.9 2.9 2.8 18.5 18.5 33 43.3 43.3 73.7 8.8 25.9 14.3 55.3 16.4 87.5 2.9 43.7-1 106.7-16.5 141.5-7.6 16.8-19.5 25.4-35.6 25.4zM618.4 164.5c-43.8 0-82.9 6.7-103.2 15.7-12 5.3-14 11.4-13.4 19.5 5.6 68.6 43.9 141.7 107.8 205.6 0.6 0.6 1.2 1.1 1.7 1.7l1.1 1 0.1 0.1 1.1 1.1 1.7 1.7c63.9 63.9 136.9 102.2 205.6 107.8 8.1 0.7 14.1-1.4 19.5-13.4 22-49.6 30.2-211-39.1-280.4-0.8-0.8-1.6-1.6-2.6-2.5l-0.5-0.5c-1-1-1.8-1.9-2.5-2.6-41.1-40.9-114.2-54.8-177.3-54.8z" fill="#543630" p-id="10357"></path><path d="M383.5 910c-6.4 0-12.3-3.1-16-8.3-0.1-0.1-0.1-0.2-0.2-0.2l-98.4-148c-0.6-0.8-1.2-1.4-2-2l-148-98.4c-0.1-0.1-0.2-0.1-0.2-0.2-5.4-3.8-8.5-10.1-8.3-16.7 0.2-6.6 3.7-12.6 9.4-16 8.1-4.9 21.8-11.4 41.1-14.2 21.3-3.1 45.1-1.3 70.6 5.4 62.1 16.3 106.6 30.8 122.9 36.3 8.6 2.9 15.4 9.7 18.3 18.3 5.5 16.3 20 60.8 36.3 122.9 6.7 25.5 8.5 49.2 5.4 70.6-2.8 19.3-9.3 33-14.2 41.1-3.4 5.6-9.4 9.1-16 9.4h-0.7zM130.9 637l147.3 98c0.1 0.1 0.2 0.1 0.2 0.2 2.7 1.9 5 4.2 6.9 6.9 0.1 0.1 0.1 0.2 0.2 0.2l98 147.3c8.3-14 19.6-44.5 6.2-95.6-16.2-61.5-30.5-105.5-35.9-121.6-0.9-2.7-3-4.8-5.7-5.7-16.1-5.4-60.1-19.8-121.6-35.9-51.1-13.4-81.6-2.1-95.6 6.2z" fill="#543630" p-id="10358"></path></svg>
            <svg t="1621143477102" class="icon" v-else viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12003" width="40" height="40"><path d="M512 85.333333c-117.333333 0-213.333333 96-213.333333 213.333334v85.333333h85.333333v-85.333333c0-70.4 57.6-128 128-128s128 57.6 128 128v85.333333h85.333333v-85.333333c0-117.333333-96-213.333333-213.333333-213.333334z" fill="#424242" p-id="12004"></path><path d="M768 938.666667H256c-46.933333 0-85.333333-38.4-85.333333-85.333334V469.333333c0-46.933333 38.4-85.333333 85.333333-85.333333h512c46.933333 0 85.333333 38.4 85.333333 85.333333v384c0 46.933333-38.4 85.333333-85.333333 85.333334z" fill="#FB8C00" p-id="12005"></path><path d="M512 661.333333m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#C76E00" p-id="12006"></path></svg>

          </div>
          <div class="paste-info">
            <p class="paste-id">
              {{item.id}}
            </p>
            <p class="paste-time">
              {{item.time}}
            </p>

          </div>

        </div>

      </div>
      <a-empty  v-else description="暂无历史"/>

    </a-card>
    <a-button type="primary" icon="cloud-download" @click="submitTransfer" style="width: 100px;font-weight: bold;" v-if="itemList.length>0&&currentID!=''">
      发送
    </a-button>
  </div>
</template>

<script>
export default {
  name: "Transfer",
  data(){
    return{
      device:"设备",
      itemList:[]
    ,currentID:"",link:""
    }
  },mounted() {
    this.link=this.$route.params['id'];
    if(this.link==""){
      this.$router.push("/")
    }
    let localstr=window.localStorage.getItem("bone_history")
    if(localstr.length>1){
     this.itemList= JSON.parse(localstr)

    }

  },methods:{
    submitTransfer(){
      try{
        this.$http({ url: '/transfer/'+this.link, baseURL: '/_api',method:"POST",data:{"id":this.currentID} }).then(res=>{
          if(res&&res.data)
          {
            console.log(res.data)

          }

        })}catch (e) {
        console.log(e)
        this.$message.error('后端错误')

      }
    }
  }
}
</script>

<style >
.transfer_box{
  max-width: 700px;
  min-width: 200px;
border: 0;

}
.lists{
  display: flex;
  flex-direction: column;

}
.paste-id{
  font-weight: bold;
  font-size: 16px;
  margin-bottom: 2px;
  text-align: left;

}
.paste-item{
  display: flex;
  flex-direction: row;
  border: 0px;
  border-radius: 10px;
  height: 60px;
  margin-left: -20px;
  margin-right: -20px;
  margin-bottom: 5px;;


}
.paste-info{
  padding: 10px;
}
.transfer_box   .sub_title {
  text-align: center;
  font-size: 24px;
  color: #353535;
  margin-top: 30px;
  margin-bottom: 23px
}
</style>